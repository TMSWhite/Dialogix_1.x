<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<HEAD>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=iso-8859-1">
	<META NAME="GENERATOR" Content="Visual Page 2.0 for Windows">
	<TITLE>untitled</TITLE>
</HEAD>

<BODY>

<P>11/22/04 Development Ideas for Dialogix</P>

<UL>
	<LI>Security
	<UL>
		<LI>Roles
		<UL>
			<LI>Admin
			<LI>View Instrument (by study?)
			<LI>View Data (by study)
			<LI>View Documentation
		</UL>
		<LI>Implementation
		<UL>
			<LI>Role-based permissions on PHP files used to query DB?
		</UL>
		<LI>Issues
		<UL>
			<LI>How encourage copyright owners to participate?
		</UL>
	</UL>
	<LI>LOINC
	<UL>
		<LI>View
		<UL>
			<LI>LOINC-view of instruments so can show LOINC codes for Nursing instruments
			<LI>Review proposed codes?
			<LI>View proposed LOINC / SNOMED codes for answer lists
		</UL>
		<LI>Edit
		<UL>
			<LI>Propose LOINC codes for individual items (view static contents, give box for submitting LOINC code
			<LI>Code submission table: {user, item primary key, time, codeset (LOINC, SNOMED, UMLS), codeval, [reason]} so
			can have multiple submissions for a given element
			<LI>Similar table structure for answer sets?
			<LI>What about translations?
		</UL>
		<LI>Find
		<UL>
			<LI>Link to UMLS search function to give suggestions for items
			<LI>keyword search within both -- how implement efficiently?
			<LI>Likely will need batch procesing of content, generate a form that shows all related content with checkboxes
			to flag desired ones
		</UL>
		<LI>Review
		<UL>
			<LI>Show all proposed LOINC codes (by topic or other filter)
			<LI>Create instrument and study to let experts vote for their choices
		</UL>
		<LI>Delphi
		<UL>
			<LI>Analyze modal scores, make new instrument that shows users that score and lets them re-confirm ther vote
			<LI>[ ] Are there computer systems for automating the modified-Delphi approach in this way?
		</UL>
	</UL>
	<LI>Literature Review
	<UL>
		<LI>Instruments
		<UL>
			<LI>[ ] Make table of all commonly used instruments -- from Mosby's?
			<LI>[ ] How many non-copyrighted ones are there?
			<LI>[ ] Which are computerized, by whom, and where?
			<UL>
				<LI>e.g. MDS
			</UL>
			<LI>[ ] Which instruments were developed by PI-based researchers such that may retain shared copyright?
		</UL>
		<LI>Survey Systems
		<UL>
			<LI>CATI / CASI / CAPI
			<LI>Web-based
			<LI>
			<LI>XForms
			<LI>Voice
		</UL>
		<LI>Item Banking
		<UL>
			<LI>What is best of breed?
		</UL>
		<LI>Study Design &amp; Management
		<UL>
			<LI>What is best of breed?
		</UL>
	</UL>
	<LI>AHRQ
	<UL>
		<LI>Estimate cost per item / instrument to operationality and encode them
		<LI>Estimate cost to train / supervise staff to perform this function
		<LI>Estimate cost to do this for copyright owners? (legal fees?)
		<LI>What would it cost to computerize and encode all psychiatric instruments by end of 2005?
	</UL>
	<LI>Legal
	<UL>
		<LI>Trademark Dialogix?
		<LI>Trademark Psyckes
		<LI>Patent new Dialogix structure / goals?
	</UL>
	<LI>Business
	<UL>
		<LI>What is appropriate service fee to take copyrighten instruments, bank the items, and generate standard codes?
		<LI>Option to just do items without doing relevance and page layout
	</UL>
	<LI>Data Modeling
	<UL>
		<LI>Instruments
		<UL>
			<LI>Change so comprised of one or more modules, each of which has its own relevance
			<LI>Modules can contain sub-modules (e.g. entire other instruments), based upon relevance
		</UL>
		<LI>Cardinality
		<UL>
			<LI>Allow multiple values per item
			<LI>How store?
			<LI>How model for statistics?
		</UL>
		<LI>Event Data
		<UL>
			<LI>Load existing formats to Mysql for exploration
			<LI>Use Instrument _ TYPE format naming for tables
			<LI>Finish PHP files for reviewing those data
		</UL>
	</UL>
	<LI>Voice
	<UL>
		<LI>Lloyd assigned to take instrument data and generate voice-xml output
	</UL>
	<LI>ClickFox
	<UL>
		<LI>[ ] Generate sample path listings for them -- e.g. from either original AutoMEQ, or from TUtorial
	</UL>
	<LI>Administrative
	<UL>
		<LI>Backups
		<UL>
			<LI>Ensure that backing up to tape and/or SAN
		</UL>
		<LI>SSL Certificate
		<UL>
			<LI>for www.dialogix.org
			<LI>for psychinformatics.nyspi.org
		</UL>
	</UL>
	<LI>New Functionality
	<UL>
		<LI>Item Banking
		<UL>
			<LI>Edit concept
			<LI>Edit HTML fields (using FCKeditor)
		</UL>
		<LI>Search
		<UL>
			<LI>on concept, questions, response options
		</UL>
		<LI>Instrument Design
		<UL>
			<LI>Select all items (with filters) related to concepts of interest
			<LI>Make easy to select / re-order desired items
		</UL>
		<LI>Transformations
		<UL>
			<LI>Export instrument from tables =&gt; tab delimited version Dialogix currently uses
			<LI>Import from Excel into new instrument in scrath area?
		</UL>
		<LI>Export
		<UL>
			<LI>Any query to Excel, XML, etc.
		</UL>
		<LI>Study Management
		<UL>
			<LI>Study Table
			<UL>
				<LI>create / view / manage name, purpose, PI, start date, end date, IRB authorization, etc.
			</UL>
			<LI>Roles Table
			<LI>Users Table
			<LI>UserRoles Table
			<LI>StudyInstruments Table
			<UL>
				<LI>link finalized instruments to study
			</UL>
			<LI>InstrumentDevelopment
			<UL>
				<LI>Add study# and status flag to existing instrument and item tables
				<LI>Status flag = {current, retired, pending, etc.}
			</UL>
		</UL>
		<LI>Modified Delphi
	</UL>
</UL>

<P>12/14/04 Dialogix-related Notes from TETHIC Conference</P>

<UL>
	<LI>eHealth Initiative (http://www.ehealthinitiative.org/) [VERY VALUABLE!]
	<UL>
		<LI>Multistate Initiative to Help Build a Health Information Infrastructure (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=183&amp;Document=265)
		<LI>Technology references
		<UL>
			<LI>Clinical Decision Support Implementer's Workbook (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=235&amp;Document=169)
			<LI>Patient Tracking and Enterprise Wide Master Patient Index Numbering (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=142&amp;Document=250)
			<LI>Commission on Systemic Interoperability (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=141&amp;Document=325)
			<LI>Connecting for Health: Clinical Data Exchange Efforts in the United States: An Overview (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=141&amp;Document=256)
			<LI>Architecture Working Paper from the 2003 National Health Information Infrastructure (NHII) Stakeholders Meeting
			(http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=141&amp;Document=190)
		</UL>
		<LI>EMR
		<UL>
			<LI>Sample RFP for EMR Selection (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=229&amp;Document=238,
			http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=229&amp;Document=216)
		</UL>
		<LI>EMPI References
		<UL>
			<LI>http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=105&amp;Category=142&amp;Document=250
		</UL>
		<LI>Organization
		<UL>
			<LI>DHHS ONCHIT Strategic Framework July 2004 (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=102&amp;Category=148&amp;Document=298)
			<LI>Building an Infrastructure for Community Health Information: Lessons from the Frontier (http://ccbh.ehealthinitiative.org/communities/community.aspx?Section=102&amp;Category=148&amp;Document=263)
		</UL>
	</UL>
	<LI>Health Data Management (http://www.healthdatamanagement.com/)
	<UL>
		<LI>Physicians EHR (http://www.physiciansehr.com/cms/) -- Book on &quot; New! EHR Implementation: A Step by Step
		Guide for the Medical Practice&quot;
	</UL>
	<LI>Clinical Data Interchange Standards Consortium (http://www.cdisc.org/)
	<LI>Health-IT World
	<LI>Health Legacy Partnership (http://www.healthlegacy.org/)
	<UL>
		<LI>Joined
		<LI>5th Annual Meeting on January 14th in D.C.
		<LI>Goal -- National Health Outcomes Database
		<LI>Private / Public Partnership between AHRQ and Joseph H. Kanter Family Foundation
		<LI>
	</UL>
</UL>

<P>
<HR ALIGN="CENTER">
</P>
<P>12/16/04 Notes from Library Search on Instruments</P>

<UL>
	<LI>Handbook of Psychiatric Measures -- 2000.
	<LI>Mental Measurements Yearbook (2004) -- lists over 2000 commercially available instruments
	<UL>
		<LI>http://web5.silverplatter.com/webspirs/start.ws?customer=waldo&amp;databases=(YB)
		<LI>Lists availability, costs, etc. -- so would need to purchase a copy to get it encoded
		<LI>library.cpmc.columbia.edu/hsl
		<UL>
			<LI>Digital Collections =&gt; Databases =&gt; All columbia databases =&gt; A-Z =&gt; Mental Health
		</UL>
	</UL>
	<LI>Health and Psychosocial Instruments (HaPI) (2004)
	<UL>
		<LI>Behavioral Measurement Database Services - updated quarterly (why don't we have current version?)
		<LI>Info on unpublished instruments discussed in jurnal articles -- part of Ovid
		<LI>105,000 records in database
	</UL>
	<LI>PSYINDEXplus with TestFinder (OVID)
	<LI>National Health Information Infrastructure (NHII) -- http://aspe.hhs.gov/sp/nhii/
	<UL>
		<LI>HHS's Agency responses re NHII (http://aspe.hhs.gov/sp/nhii/hhsrole.html)
		<UL>
			<LI>AHRQ -- effective tech &amp; guidelines
			<LI>CDC -- infrastructure for population health
			<LI>CMS -
			<LI>Data Council (data development)
			<LI>HRSA -- telehealth
			<LI>NCHS - population health statistics
		</UL>
		<LI>NCVHS NHII Working Group - includes Stan Huff, Clem McDonald, &amp; Ted Shortliffe (so should contact them)
		<UL>
			<LI>Subcomitte on Standards and Security
			<UL>
				<LI>Vivian Auld
				<LI>J. Michael Fitzmaurice
				<LI>Betsy Humphreys
				<LI>Stan Huff
			</UL>
			<LI>Review transcript http://www.ncvhs.hhs.gov/041104ag.htm
		</UL>
		<LI>Volunteer OMH to be involved in the NHII (add Vesna to group)
	</UL>
	<LI>Needs
	<UL>
		<LI>[ ] Researcher to compile list of instruments from multiple sources
		<UL>
			<LI>triage which should be encoded (based upon current references in the literature
			<LI>which are used by states and providers (large stakeholders)?
			<LI>which are encoded in commercial EMRs, and what terminologies (if any) do they use?
			<LI>obtain copies of those instruments
		</UL>
		<LI>[ ] Legal to arrange permissions to properly license for this purpose
		<LI>[ ] Data coders to keypunch the contents
		<LI>[ ] knowledge engineers to find relationships with existing UMLS terms (good search function)
		<LI>[ ] Programmers / DBs for instrastructure
		<UL>
			<LI>DB for storing
			<LI>distributed authoring
			<LI>one-many comparison to existing instruments
		</UL>
		<LI>[ ] Contact OVID see if their DBs show how many have shared copyright, and # of items within the instruments
	</UL>
	<LI>Child Psychiatry
	<UL>
		<LI>has Huge list of instruments: (434)
		<LI>part of mission is developing new, simpler instruments,
		<LI>Interested in / able to collect data on who likes which instruments for which indications
		<LI>Web site (http://192.168.32.233/) has links to instruments
	</UL>
	<LI>
</UL>

<P>
<HR ALIGN="CENTER">
</P>
<P>Gerry Segal</P>

<UL>
	<LI>10 actionable initiatives -- want to get key, bigwig players (Chip to meet personally), can pick three this
	year. Do teleconference as follow-up on these projects.
	<LI>Project Goals
	<UL>
		<LI>Identify people reporting to PI
		<LI>Have them report via video
		<LI>Our job is to husband it and identify needed resources (provide them too?)
	</UL>
	<LI>Potential Projects
	<UL>
		<LI>Education
		<UL>
			<LI>Informatics Fellowship
			<LI>Mental Health Informatics curriculum
			<LI>Goverment Informatics curriculum
			<LI>Develop / recruit staff from other departments in prep for submitting T32 education grant
		</UL>
		<LI>Dialogix, SWIM, etc.
		<UL>
			<LI>National Outcomes Database (with Health Legacy Partnership?)
			<LI>LOINC standards for coding instruments and their questions (work to get fed to adopt this standard)
			<LI>Improve instrument development cycle (faster, better psychometrics)
			<LI>Implement Child psych instruments (with Peter Jensen &amp; Ruane Department)
			<LI>Item banking &amp; data banking (instrument and data coordination centers)
			<LI>&quot;Service industry&quot; to build / deploy / manage data collection using this tool
			<LI>&quot;Service industry&quot; to LOINC-encode instruments that are commercially available, assuming we can get
			government to adopt Dialogix as standard, HIPAA-compliant coding system for surveys
			<LI>Prototype HL7 link of results to EMR including VA's system (since they are interested)
		</UL>
		<LI>Improving Clinical Trials
		<UL>
			<LI>Ad-hoc EMR creation (e.g. via Dialogix or custom modules on EMR) so track clinical trials data electronically;
			yet ensuring appropriate security
			<LI>Coordinate with pharma re needs for such a system; get funding from them?
		</UL>
		<LI>Mental Health EMR
		<UL>
			<LI>PI as test-bed for EMR candidates
			<LI>Usability evalution of selected candidates (with Vimla's group)
			<LI>Prototype / test Dialogix as modular component of EMR -- especially once has HL7 output to send results to
			any EMR
		</UL>
		<LI>Disaster Management &amp; Epidemiological tracking
		<UL>
			<LI>Team with state DOH/HERDS
			<UL>
				<LI>Use Dialogix data to generate geo-maps for all needed survey data
				<LI>Use HERDS to collect simple survey data routinely, e.g. bed availability, licencing data
				<LI>Extend HERDS with Dialogix module for more complex surveys
			</UL>
			<LI>Team with Pittsburg OpenRODS proejct
			<UL>
				<LI>Get over-the-counter drug data for tracking mental health outbreaks and patterns
				<LI>Extend OpenRODS to use Dialogix survey data to track actual symptoms / diagnoses over time
			</UL>
			<LI>Team with NYC DOHMH
			<UL>
				<LI>get feeds from Emergency Rooms, 911, Lifeline, to track MH outbreaks and patterns
				<LI>coordinate disaster drills
			</UL>
		</UL>
		<LI>Telemedicine
		<UL>
			<LI>PI as diagnostic center of excellence -- extend Steve Hyler's work to make this a service industry
			<LI>Extend diagnostic excellence internationally
			<LI>others?
		</UL>
		<LI>Telecollaboration
		<UL>
			<LI>Virtual conference rooms for ad-hoc meetings
		</UL>
		<LI>PAC-SAN
		<UL>
			<LI>Use as PAC for the state rather than purchasing one for the EMR?
			<LI>others?
		</UL>
		<LI>IRB infrastructure
		<UL>
			<LI>Make it easier to file &amp; manage IRB applications
			<LI>Facilitate Dialogix and other web-based data collection (e.g. make it easy for IRB to review electronic data
			collection)
		</UL>
		<LI>Infrastructure for clinical research (R2Net)
		<UL>
			<LI>Extend to support Dialogix and other data for clinical trials
			<LI>Enhance integration with IRB
			<LI>Evaluate / extend usability
		</UL>
		<LI>Outcomes Research &amp; Data Mining
		<UL>
			<LI>Use data from clinical trials + Dialogix + PSYCKES + EMR +/- Medicaid
			<LI>Team with Stanford (Amar Das &amp; Yuval Shahar) to do temporal data mining using KNAVE (Shahar) and Chronos-II
			(Das) tools
			<LI>&quot;service industry&quot; -- analysis clearinghouse to facilitate research requiring use of Medicaid data
			-- PI and NKI have many projects that could use those data, and we can use their expertise, rather than keeping
			it entirely within the Adult and Children's Services Evaluation Bureaus (yet not compete with them)
		</UL>
		<LI>Neuro &amp; Psychiatric Informatics
		<UL>
			<LI>Team with PI and NKI imaging departments to facilitate cross-disciplinary research (e.g. imaging + treatment
			and outcomes data)
			<LI>Team with Dan Gardner and Human Brain project re building federated database that spans from brain scans to
			individual electrode studies
			<LI>Team with international HONOS project (doing work similar to Gardner)
			<LI>Team with data miners looking for correlations between brain scans, genetics, treatments, and outcomes
		</UL>
		<LI>Psychiatric Genetics
		<UL>
			<LI>team with Pat Cohen and others who are studying links between genetics and outcomes (degree to which genetics
			can predict disease, optimal treatments, and outcomes) -- they are getting genetic data on patients they are following
			longitudinally
			<LI>Team with those standardizing data warehousing of genetics data + services, treatments &amp; outcomes
		</UL>
		<LI>Consumer Directed Healthcare
		<UL>
			<LI>Reports to let patients track own symptoms (like WebMD)
			<LI>Use Dialogix to let patients enter data via the telephone
			<LI>Team with Columbia's PatCIS efforts?
			<LI>Team with Amar Das / Stanford to use his Chronos-II visualization tool for timeline graphs
			<LI>Demonstration studies of impact of such efforts
		</UL>
	</UL>
</UL>

<P>
<HR ALIGN="CENTER">
</P>
<P>Tomcat 5.5 Notes 12/28/2004</P>

<UL>
	<LI>Customizations
	<UL>
		<LI>Create these tables
		<UL>
			<LI>CREATE TABLE authority.user_roles (<BR>
			user_name varchar(15) NOT NULL default '',<BR>
			role_name varchar(15) NOT NULL default '',<BR>
			PRIMARY KEY (user_name,role_name)<BR>
			) ;<BR>
			CREATE TABLE authority.users (<BR>
			user_name varchar(15) NOT NULL default '',<BR>
			user_pass varchar(15) NOT NULL default '',<BR>
			PRIMARY KEY (user_name)<BR>
			) ;
		</UL>
		<LI>Copy this .jar file into the endorsed directory
		<UL>
			<LI>put mysql-connector-java-3.0.16-ga.jar in ${catalina.home}/common/endorsed
		</UL>
		<LI>Add this to server.xml
		<UL>
			<LI>&lt;Realm className=&quot;org.apache.catalina.realm.JDBCRealm&quot;<BR>
			driverName=&quot;com.mysql.jdbc.Driver&quot;<BR>
			connectionURL=&quot;jdbc:mysql://localhost:3306/authority?autoReconnect=true&quot;<BR>
			connectionName=&quot;root&quot; connectionPassword=&quot;&quot;<BR>
			userTable=&quot;users&quot; userNameCol=&quot;user_name&quot; userCredCol=&quot;user_pass&quot;<BR>
			userRoleTable=&quot;user_roles&quot; roleNameCol=&quot;role_name&quot; /&gt;
		</UL>
		<LI>Comment out the other Realm
		<LI>Uncomment the FastCommonAccessLogValve
		<LI>Install Tomcat as a service using service.bat install in order to get log messages to file instead of cmd window.
	</UL>
	<LI>Converting Dialogix to WAR file
	<UL>
		<LI>Updated build.xml with &quot;war&quot; option
		<LI>Create context.xml for the database connection so that can be different for each platform and instance. Will
		require documentation on how to customize the web.xml and context.xml; but easier than a re-compile!
		<UL>
			<LI>&lt;!-- Context information to add MySQL database connection for Dialogix --&gt;<BR>
			@@DB.COMMENT_START@@<BR>
			&lt;Context debug=&quot;5&quot; reloadable=&quot;true&quot; crossContext=&quot;true&quot;&gt;<BR>
			<BR>
			&lt;Resource name=&quot;jdbc/dialogix&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;<BR>
			maxActive=&quot;100&quot; maxIdle=&quot;30&quot; maxWait=&quot;10000&quot;<BR>
			username=&quot;root&quot; password=&quot;&quot; driverClassName=&quot;com.mysql.jdbc.Driver&quot;<BR>
			url=&quot;jdbc:mysql://127.0.0.1:3306/dialogix2994?autoReconnect=true&quot;/&gt;<BR>
			<BR>
			&lt;/Context&gt;<BR>
			@@DB.COMMENT_END@@
		</UL>
		<LI>Add the database resource reference to web.xml
		<UL>
			<LI>@@DB.COMMENT_START@@<BR>
			&lt;resource-ref&gt;<BR>
			&lt;description&gt;DB Connection&lt;/description&gt;<BR>
			&lt;res-ref-name&gt;jdbc/dialogix&lt;/res-ref-name&gt;<BR>
			&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;<BR>
			&lt;res-auth&gt;Container&lt;/res-auth&gt;<BR>
			&lt;/resource-ref&gt; <BR>
			@@DB.COMMENT_END@@
		</UL>
	</UL>
	<LI>Add this to startup.bat to log garbage collection parameters
	<UL>
		<LI>set CATALINA_OPTS=-verbose:gc
	</UL>
	<LI>Add logs directory /webapps so that Dialogix.log.err file can be created / written
	<LI>[DONE ] Validate SSL - can do in standalone Tomcat, or behind Apache (in which case don't use SSL Connector
	in server.xml)
	<UL>
		<LI>&lt;Connector port=&quot;8443&quot; <BR>
		maxThreads=&quot;150&quot; minSpareThreads=&quot;25&quot; maxSpareThreads=&quot;75&quot;<BR>
		enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;<BR>
		acceptCount=&quot;100&quot; scheme=&quot;https&quot; secure=&quot;true&quot;<BR>
		keystoreFile=&quot;dianexus.keystore&quot;<BR>
		keystorePass=&quot;aka##triceps&quot;<BR>
		clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;
	</UL>
	<LI>[NO: No added benefit unless load balance ] Link Tomcat behind Apache?
	<UL>
		<LI>(1) Use Proxies (e.g. so that all requests to www.dialogix.org:80 and :43 go to Tomcat, and protect its port
		so that no external calls allowed
		<LI>(2) Use the JK connector (AJP), which is more efficient than proxying if only using on server (instead of clustering).
	</UL>
	<LI>N.B. RequestDumperValve shows all header messages -- good for debugging, but don't keep on constantly
	<LI>[DONE] Modify the war deployment to be the name of the directory, not dialogix.war.
	<LI>[DONE ] Re-write index.htm file so automatically generated?
	<LI>[ ] Move the Dialogix connector into a global context? Alternatively keep them separate for each application?
	<LI>[ ] All license info should really be in a database
	<UL>
		<LI>[ ] Model the DB
		<LI>[ ] Use it to apply permissions by study?
	</UL>
	<LI>[ ] Create ant deployments of all active projects for tomcat 5.5.4 for psychinformatics? Redundant, but easier
	to manage?
	<LI>[ ] Unit test to find memory leak
	<LI>[ ] Write all to DB, perhaps one set of tables (or DB) per project?
	<LI>[NO: JSP and taglibs too cumbersome ] Play with JSP, esp. taglibs?
	<LI>N.B. ${xxx.yy} expansion works within Ant properties files
	<LI>N.B. &lt;input&gt; can let specify which license file to deploy on the fly?
	<LI>N.B. Can put Oro and Mysql (and even Dialogix) into endorsed dir for deployment, but not &quot;droppable&quot;
	war file
	<LI>[ ] Struts
	<UL>
		<LI>Not clear that this would be of any benefit. The taglibs approach to adding content is too laborious
		<LI>Pipeline is nice -- XXX -- where is the documentation that discusses the various steps needed for good access/authentication/translation/etc?
		<LI>Might help with internationalization, but pulling off of database may be more extensible and easier to manage
		<LI>Tiles -- seems too slow and inconvenient -- the Web.xml definition of them make it hard to grok.
	</UL>
	<LI>[done - 1/16/05 ] Velocity
	<UL>
		<LI>Templating is easy. Uses #if/#then, #set, #foreach, #macros
		<LI>Nice that can see the code within an HTML page, so easy to develop using a standard browser, rather than struts;
		but new building tools don't have that limitation
		<LI>Automatically adds values from GET line as the variable name (so no protection against overwriting reserved
		parameters)?
		<LI>Introspection style nice, such as $foo.bar.toInt().
		<LI>Creates contexts which can hold objects and arrays and be nested to create local scope
		<LI>Can call exec() from Java to create contexts, so could iteratively add Dialogix content
		<LI>However, math functionality is limited to integers, so not clear that has many direct benefits other than the
		introspection
		<LI>Can I use anything from their JavaCC or JJTree stuff?
		<LI>Good for view component, but not a replacement for Dialogix parser
	</UL>
	<LI>[done -1/16/05 ] JavaCC / JJTree -- update Dialogix.jj to support Unicode?
	<UL>
		<LI>N.B. Does recompile successfully!
		<LI>COMMON_TOKEN_ACTION -- lets a user-defined routine be called after every call to the token manager -- could
		this let me do persistence management and/or db storage? [ ] Do I need this, or can the parser be modified to do
		so itself?
		<LI>UNICODE -- is not supported
		<LI>[ ] Modify parser to use Context, rather than Triceps, since really only needs to read and set variables (plus
		ability to get functions externally)?
		<LI>DatumMath would need to accept Context
		<LI>Data should support abstraction of business layers and EJB persistence and/or DB persistance? E.g. always use
		name to get/set value, but as Object with attached properties to declare type, or Datum which has type declared?
		<LI>Can Datum support arrays?
	</UL>
	<LI>Context would be interface with following features
	<UL>
		<LI>Logger
		<LI>Locale
		<LI>Functions
		<LI>Data
	</UL>
	<LI>[NO: Keep as is] Datum should be interface to make new datatypes pluggable? Problem is how to do DatumMath.
	<LI>[done] Rename package to org.dialogix.*
	<LI>[ ] Remove XMLString or tailor so can change what is filtered?
	<LI>[ ] Support Durations (date1 - date2) which don't have Java date=0 problem
	<LI>[done] Remove VersionIF dependency
	<LI>[done - 1/16/05 ] Logging via Log4J instead of my rudimentary logger
	<UL>
		<LI>There is a JDBC extensions to allow logging directly to MySQL -- use for general data writes?
	</UL>
	<LI>[ ] J2EE Patterns -- what do I need for data abstraction?
	<LI>[ ] How do I apply styles to data elements instead of in-lining in Node? This is a place where Velocity could
	be helpful as macros that are loaded from a library and evaluated
	<LI>Parser has several functions
	<UL>
		<LI>[done] Generate list of dependent nodes so that can dynamically tailor pages baswed upon relevance even when
		jumping around
		<LI>[done] Compute results of equations
	</UL>
	<LI>[done - 1/6/05 ] Build revised version of Parser that uses Logger?
</UL>

<P>
<HR ALIGN="CENTER">
</P>
<P>Notes from 1/17/05</P>

<UL>
	<LI>Code Maintenance
	<UL>
		<LI>[done 1/17 ] Add Javadoc comments to existing code
		<UL>
			<LI>http://java.sun.com/j2se/javadoc/writingdoccomments/index.html
			<LI>@author name-text
			<LI>@param parameter-name description
			<LI>@return description
			<LI>@see reference
			<UL>
				<LI>@see &quot;string&quot;
				<LI>@see &lt;a href=&quot;URL#value&quot;&gt;label&lt;/a&gt;
				<LI>@see package.class#member label
			</UL>
			<LI>@throws class-name description
		</UL>
		<LI>[done 1/17 ] Change spacing, bracketting to support Java coding standards
		<UL>
			<LI>Keep lines / comments &lt; 80 characters long
			<LI>When using conditional expressions, indent twice normal to highlight nested block
			<LI>Comments should be preceeded by a blank line
			<LI>Avoid compound statements on a single line
			<LI>Avoid if statements that lack braces
			<LI>Start braces on same line as loop or conditional (not stand-alone below it)
			<LI>Switch statements -- explicitly comment if falls through
			<LI>Use XXX to say that something is bogus but works; FIXME to flag bogus and broken
			<LI>Java recommends using tab = 8 spaces; most Apache projects use 2, so I'll use 2
		</UL>
		<LI>[done 1/17] Add javadoc target to the Ant build task
		<LI>[done ] Test cases for parser as Tab delimited file
	</UL>
	<LI>Serialization
	<UL>
		<LI>Can the Context implement serializable and thus persist across sessions and/or stop-restarts of Tomcat?
	</UL>
	<LI>Psychinformatics Server
	<UL>
		<LI>Install new Tomcat 5.5?
		<LI>Install new JDK? (what are implications on runnability of existing programs? Should install stand-beside
		<LI>Install new War versions of Dialogix on a module-by-module basis (after confirming can do proper logging
	</UL>
</UL>

<P>
<HR ALIGN="CENTER">
</P>
<P>Notes from 1/18/05</P>

<UL>
	<LI>Refactoring - Parser
	<UL>
		<LI>Context
		<UL>
			<LI>Include Parser (one Parser per Context)? Only for error reporting?
			<LI>ErrorLogger? -- so can log syntax errors from Functions, DatumMath, Datum, and have available to user for review.
			If Log4J is used, could do via DB with lookup, but overkill?
			<LI>Locale --
			<LI>Make a Factory and/or BusinessObject and/or BusinessDelegate so has common
		</UL>
		<LI>DataAccessObject
		<UL>
			<LI>Configure using XML so can interface with DB, Hashtable, Flatfile, or Sockets
			<LI>Make Interface
			<LI>If Functions run remotely, need way to pass error messagers back to Context -- a TransferObject?
		</UL>
		<LI>Datum
		<UL>
			<LI>Is Context needed here?
			<UL>
				<LI>Used for parseNumber, parseDate, formatDate, formatNumber
				<LI>get(&quot;please enter a&quot;) [-- should be in view]
				<LI>getTypeName() [-- should be part of Locale]
			</UL>
			<LI>INVALID object -- shouldn't it be a flag so can set a Datum as invalid; or always create a new one?
			<LI>Syntax: Use dot notation to get view of data, rather than casts? -- esp for Duration?
		</UL>
		<LI>DatumMath
		<UL>
			<LI>Date - Date should be Duration, which has integer values for Year, Month, Day, etc.
			<LI>Does not use Context subcomponents -- can we change passing so all functions are like op(context,a,b) instead
			of op(a,b)? Would that be helpful?
		</UL>
		<LI>Parser
		<UL>
			<LI>Fix errors in current functions
			<LI>Test date math, esp. durations
			<LI>Throw error if anything left on the parse stack
			<UL>
				<LI>(EOF or EOL before end of Statement) -- unterminated Statement
				<LI>EOL/EOF after Statement, but with earlier tokens left (e.g. &quot;(1 + 2&quot;, unclosed paren)
			</UL>
			<LI>Unit testing (ant target to automate running of tests currently passed via index.vm)
			<LI>Context Use
			<UL>
				<LI>Datum getDAO().set(String,Datum) -- XXX currently void, make return Datum for ASSIGN
				<LI>void getDAO().function()
				<LI>Datum getDAO().getDatum(String)
				<LI>error messages
			</UL>
		</UL>
		<LI>Functions
		<UL>
			<LI>Navigation
			<LI>Instrument-specific
			<LI>Node-specific
			<LI>Introspection
			<LI>API for extensibility
		</UL>
		<LI>Reserved
		<UL>
			<LI>Add persistence mechanism (e.g. via DAO?)
			<LI>Can they be treated as metadata, globals, etc so can be scoped?
		</UL>
	</UL>
	<LI>Refactoring - Navigation
	<LI>Refactoring - Views
	<LI>SQL
	<UL>
		<LI>Allow SQL queries for response sets and validation (e.g. patient lookup)
		<LI>How generalize this? (DataSource, with query against it)?
		<LI>Would Torque help for this?
		<LI>Can Dialogix also do SQL inserts into operational systems for fields that need multiple targets?
	</UL>
	<LI>[ ] POI for Excel import / export?
	<LI>[ ] Torque for data persistence and to ease DB portability
	<UL>
		<LI>Builds 4 classes to model the connection -- BusinessObject, DAO, and Peers for each so can be done remotely.
		<LI>Builds get/set methods for each data element
		<LI>Doesn't build general insert equations for wholle object at a time
		<LI>Supports EJB persistance
		<LI>Not(?) speed optimized for multiple get/set -- perhaps solvable via transactions?
		<LI>Does(?) support access to flat file databases and/or in memory ones?
		<LI>[ ] Can it build structures on the fly? Seems to use Ant to for that
	</UL>
	<LI>[ ] FckEditor to ease web-based instrument creation?
	<UL>
		<LI>Successfully integrated it -- see \FCKeditor\* under Apache. Can download speed be improved?
	</UL>
	<LI>[DONE ] Add &quot;in&quot; operator to Dialogix parser syntax -- a form of equality operation (re priority)
	<UL>
		<LI>[ ] Dilemma -- there is no Set type which stores multiple values, so would need to re-write each time?
		<LI>[ ] Would like defined access to a DataSource, like list of patients
	</UL>
	<LI>[ ] JDBC
	<UL>
		<LI>How generic is it? Will same syntax work for all databases and data sources so can point to local files too?
	</UL>
	<LI>[ ] Compound types - e.g. define a list for (a in list)?
	<LI>[ ] Relationship to XForms - especially nesting and more complex conditionals?
</UL>

<P>
<HR ALIGN="CENTER">
</P>
<P>1/26/05</P>

<UL>
	<LI>J2EE Patterns
	<UL>
		<LI>DataAccessObject -- e.g. via DataSource?
		<LI>Intercepting Filter / Front Controller -- to handle connection
	</UL>
	<LI>Parser
	<UL>
		<LI>Do we need to support a LIST or TUPLE datatype? If so, need to modify how work with Datum, DatumMath, and how
		stored
		<LI>Do we need dot-style lookup ala Velocity?
	</UL>
	<LI>Analysis of remaining Dialogix Code &amp; Functions
	<UL>
		<LI>AnswerChoice.java
		<UL>
			<LI>Represents avaible answer options, especially if a list of msg|value pairs
			<LI>[ ] Model internally via XML structure to ease output as a Cocoon Generator?
			<LI>Should support three values: msg,index,value; where index used for selection so that multiple answers can have
			the same internal value, but order must be unique
			<LI>Also add anchor and/or help?
			<LI>Should support lazy access to database
			<LI>getMessageAt(index), getValueAt(index), etc.
		</UL>
		<LI>ASCII_CharStream.java [DONE =&gt; .jjt]
		<LI>Datum.java [DONE]
		<LI>DatumMath.java [DONE]
		<LI>Evidence.java
		<UL>
			<LI>=&gt; Functions.java
			<UL>
				<LI>[ ] Schedule &amp; Node functions
				<LI>[ ] Navigation
				<LI>[ ] Support external linking
			</UL>
			<LI>[ ] Reserved Words
			<LI>[ ] get/set values =&gt; Context.DAO
			<LI>[ ] get/set node values =&gt; Context.InstrumentAO?
			<LI>[ ] write headers and starting values =&gt; Context.?? -- initialize an instance
			<LI>[ ] Need Results object (or can DAO do this, or are there several levels for this)
			<UL>
				<LI>store data and events to generic database
			</UL>
		</UL>
		<LI>EvidenceIO.java
		<UL>
			<LI>createTempFile, saveAll, exec
			<LI>[ ] Remove these from list of functions?
		</UL>
		<LI>ExcelDecoder.java
		<UL>
			<LI>decode -- fixes double quotes within Excel
			<LI>applied to instrument columns
		</UL>
		<LI>InputDecoder.java
		<UL>
			<LI>decode -- does nothing
		</UL>
		<LI>InputEncoder.java
		<UL>
			<LI>encode -- remove tabs from a string
			<LI>applied to answers and comments, austensibly so doesn't mess up data storage
		</UL>
		<LI>JarWriter.java
		<UL>
			<LI>generates Jar files
			<LI>obsolete if write to database, else may be needed
		</UL>
		<LI>LicenseIF.java
		<UL>
			<LI>obsolete
		</UL>
		<LI>Logger.java
		<UL>
			<LI>[ ] replaced with Log4J functionality
		</UL>
		<LI>LoginTricepsServlet.java
		<UL>
			<LI>validate
			<LI>set single-use token
			<LI>check browser compatibility
			<LI>create login form
			<LI>initialize session if needed
			<LI>restore if needed, else start anew, loading init parameters from DB (setExtraParameters)
			<LI>update logon and status records in DB
			<LI>call TricepsEngine.doPost()
			<LI>if finished, update status records in DB
			<LI>class LogonRecord -- abstraction of username,password,instrument, mappings
			<UL>
				<LI>[ ] like a DAO for initialization parameters
			</UL>
		</UL>
		<LI>Node.java
		<UL>
			<LI>DisplayTypes (maps to DataTypes)
			<LI>QuestionTypes (and ActionTypes)
			<LI>One row per item, linked to AnswerChoices hashtable
			<LI>parses a source line from Excel, generating node with multi-language support (by index)
			<LI>buildOrList (debug message to show allowable data values)
			<LI>getSampleInputString() -- [ ] should this be in properties?
			<LI>prepareChoicesAsHtml() -- [ ] make modular, e.g. VelocityMacro, would need access to Node content and current
			data values; ideally with XML way to map style to template
			<LI>isWithinRange() -- [ ] validate elsewhere, since generates custom error message?
			<LI>record parse and syntax errors -- [ ] Error checker should visit each node for this?
			<LI>output to TSV or XML
			<LI>get Bean properties
			<LI>[ ] convert to read-only Bean for Velocity access?
		</UL>
		<LI>ParseError.java
		<UL>
			<LI>Obsolete
			<LI>[ ] Instead, create ErrorChecker which visits each node and equation and records errors
			<LI>[ ] Would want ErrorChecker accessible via Velocity as Bean?
			<LI>[ ] Should it store error information to database?
		</UL>
		<LI>ParseException.java [DONE =&gt; DialogixParser.jjt]
		<LI>Parser.java
		<UL>
			<LI>Interface to DialogixParser
			<LI>parses Strings to return boolean, String, double, Datum [ ] Move to DialogixParser?
			<LI>parseJSP (parsing nested equations): [ ] Move to DialogixParser?
		</UL>
		<LI>QSortAlgorithm.java
		<UL>
			<LI>exclusively used to sort list of instruments [ ] remove? Collections must have this
		</UL>
		<LI>Qss.java
		<UL>
			<LI>=&gt; DialogixParser.jjt
		</UL>
		<LI>qss.jj
		<UL>
			<LI>=&gt; DialogixParser.jjt
		</UL>
		<LI>QssConstants.java
		<UL>
			<LI>=&gt; DialogixParser.jjt
		</UL>
		<LI>QssTokenManager.java
		<UL>
			<LI>=&gt; DialogixParser.jjt
		</UL>
		<LI>Schedule.java
		<UL>
			<LI>Flow: Initialize Triceps, Evidence, reserveds; load schedule, check validity, parse headers
			<LI>Defines reserved words. [ ] cant they be moved to proper support class based upon function?
			<UL>
				<LI>Instrument Model {languages, author, version, name,
				<LI>Runtime {filename, workingdir, completeddir, redirectOnFinish, browser, ip, displaycount
				<LI>Navigation {starting step, current step, allow refused/unasked,
				<LI>Authoring {debug, developer
				<LI>Cosmetics {title, icon, header_msg, icons, field_width,
			</UL>
			<LI>setReserved() - calls all support functions, tightly coupled with other functions
			<UL>
				<LI>lots of code to catch number format errors. [ ] replace with schema validation?
			</UL>
			<LI>parserReserved(), writeReserved()
			<LI>recalculateInNewLanguage() -- only needed for Eval nodes
			<LI>loadSchedule() - from file. [ ] allow load from DB
			<LI>bracesMatch()
			<LI>parseNode() [ ] move this to Node or NodeIO that reads from data source and uses Node internally?
			<LI>getNode(index)
		</UL>
		<LI>ScheduleList.java
		<UL>
			<LI>Find all schedules in a directory, detecting changes
			<LI>[ ] replace this with study-specific DB query for instrument metadata
		</UL>
		<LI>ScheduleSource.java
		<UL>
			<LI>Reads individual schedules from .txt or .jar files
			<LI>[ ] replace with instrument specific DB query
		</UL>
		<LI>SourceInfo.java
		<UL>
			<LI>Helper function for ScheduleSource -- obsolete
		</UL>
		<LI>Token.java
		<UL>
			<LI>=&gt; DialogixParser.jjt
		</UL>
		<LI>TokenMgrError.java
		<UL>
			<LI>=&gt; DialogixParser.jjt
		</UL>
		<LI>Triceps.java
		<UL>
			<LI>Supported functionality
			<UL>
				<LI>parser
				<LI>data logger
				<LI>event logger
				<LI>locale
				<LI>schedule
			</UL>
			<LI>Navigation
			<UL>
				<LI>gotoFirst(), gotoStarting(), jumpToNode(),suspendToFloppy(), gotoNext(), gotoPrevious()
				<LI>collectNextNodeSet(), collectPreviousNodeSet()
				<LI>getRelevantNodes()
			</UL>
			<LI>DataIO
			<UL>
				<LI>getDatum(node)
				<LI>getStartTime()
				<LI>getQuestionStr(Node) - with formatting
			</UL>
			<LI>Debugging
			<UL>
				<LI>collectParseErrors(), size(), isSet(Node)
				<LI>isBlockOK() -- whether a node-set has balanced open/close braces
				<LI>reloadSchedule (with any needed changes, but keeping current data)
				<LI>resetEvidence() -- clear databuffer
			</UL>
			<LI>Logging
			<UL>
				<LI>processEventTimings() -- sends data to event logger
				<LI>storeValue(Node,answer,comment,special) -- does validation, then stores. [ ] Move to ??
				<LI>record response latency
			</UL>
			<LI>Locale =&gt; Context?
		</UL>
		<LI>TricepsEngine.java
		<UL>
			<LI>Functions
			<UL>
				<LI>init all reserved variables, directories
				<LI>process post/get
				<LI>processDirective() -- responds to all navigation and debugging commands like Controller
				<LI>makes all HTML and Javascript
				<LI>set extra parameters from login database (if have username/password)
				<LI>make XML version
				<LI>queryUser() -- assembles subcomponents into page
			</UL>
			<LI>[ ] Move all to JSP or equivalent?
		</UL>
		<LI>TricepsServlet.java
		<UL>
			<LI>Invalidate sessions
			<LI>init DB
			<LI>logPageHit() -- logs to DB
		</UL>
		<LI>Value.java
		<UL>
			<LI>Support function for Evidence - maps Datum to Node within Schedule, allowing for multiple aliases
			<LI>[ ] replace with DAO?
		</UL>
		<LI>VersionIF.java
		<UL>
			<LI>[ ] make obsolete -- move study specific parameters to config, not hard-compiled
		</UL>
		<LI>XMLAttrEncoder.java
		<UL>
			<LI>=&gt; utils/XMLAttrEncoder
			<LI>converts strings so XML doesn't think they are commands
		</UL>
		<LI>XmlString.java
		<UL>
			<LI>HTML-Tidy, but selectively removes unwanted tags, always matches braces
			<LI>[ ] if keep, accept a Writer, instead of using StringBuffer (probably source of memory leak)
		</UL>
	</UL>
	<LI>Porlets
	<UL>
		<LI>JPS -- Java Portlet Specification -- JSR 168 specification for portlets -- does it support events (for synchronizing
		data within a page)?
		<LI>How does it support context -- local Portal parameters, Locale, look &amp; feel - should I be using that model?
		<LI>How does it support data sources -- can I use their style?
		<LI>WSRP -- Web Services for Report Portlets
		<LI>Support versioning -- how? Can I use this for versions of instruments?
	</UL>
	<LI>Cocoon
	<UL>
		<LI>
	</UL>
</UL>


</BODY>

</HTML>